\input{ex_preamble.tex}

\rhead{\textsc{Напредно програмирање}}
\chead{Задачи}
\lhead{Аудиториски вежби 2}
\lfoot{}
\cfoot{\thepage}
\rfoot{}
\usepackage{fancyvrb}
\usepackage{xcolor}
\usepackage{textcomp}

\begin{document}
\begin{questions}

\question
Да се напише метод кој враќа точно ако \texttt{String str1} е префикс на \texttt{String str2}. Не
е дозволено користење на готови методи за пребарување, единствено дозволено е
користење на \texttt{charAt}.

\lstinputlisting[firstline=3,lastline=13]{src/av2/AV2.java}

\question
Да се имплементираат следните методи кои примаат дво-димензионални низи од
double и враќаат како резултат сума и просек.

\begin{lstlisting}
public static double sum(double[][] a)
public static double average(double[][] a)
\end{lstlisting}

\lstinputlisting[firstline=15,lastline=33]{src/av2/AV2.java}

\question
Катанец со комбинации (Combination Lock) ги има следните својства:
\begin{itemize}
  \item комбинацијата (секвенца од 3 цифри) е скриена
  \item катанецот може да се отвори само ако се внесе точната комбинација
  \item комбинацијата може да се промени само ако се знае претходната
  комбинација.
\end{itemize}
Да се дизајнира класа со јавни методи \texttt{open} и \texttt{changeCombo} и
приватни податоци кои ја чуваат комбинацијата. Комбинацијата се поставува преку
конструкторот.

\lstinputlisting{src/av2/CombinationLock.java}


\question
Имплементирајте едноставна класа за датум (Date). Вашата класа треба да може:
\begin{itemize}
  \item да ги репрезентира сите датуми од 1 Јануари 1800 до 31 Декември 2500
  \item одзема два датуми
  \item зголеми датум за одреден ден денови
  \item да споредува два датуми со помош на \texttt{equals} и
  \texttt{compareTo}.
\end{itemize}
Датумот внатрешно ќе се репрезентира како број на денови од почетното време, кое
во овој случај е почетокот на 1800. Со ова сите методи освен методот
\texttt{toString} се поедноставуваат. Да се запази правилото за престапни години
(престапна година е секоја година која е делива со 4 и не е делива со 100 освен
ако е делива со 400). Конструкторот треба да ја провери валидноста на датумот, а
исто така и методот \texttt{toString}. Датумот може да стане неточен ако
зголемувањето или намалувањто придонсе да излезе надвор од опсегот.

Потешкиот дел од задачата е конверзијата од интерната репрезентација во
надворешна репрезентација на датум. Еден предлог алгоритам е следниот. Се
иницијализираат две низи во статички членови. Првата низа е денови до први во
месецот (daysTillFirstOfMonth) во не престапна година. Оваа низа содржи 0, 31,
59, 90, итн. Во втората низа, денови од почетокот на првата година
(daysTillJan1). Така оваа низа ќе содржи 0, 365, 730, 1095, 1460, 1826, итн. Со
помош на овие низи ќе ја правиме конверзијата на различни репрезентации на
датум.

\lstinputlisting{src/av2/Date.java}

\question
\texttt{PlayingCard} (карта) е класа со која се репрезентира карта во игри со
карти како покер и блек џек и во не се чува информација за бојата (херц, каро, пик, треф) и
рангот (вредност од 2 до 10 или џандар, кралица, поп или ас). \texttt{Deck}
(шпил од карти) е класа која репрезентира комплет од 52 карти. Додека
\texttt{MultipleDeck} (повеќе шпилови) е класа која репрезентира повеќе шпилови
со карти (точниот број се задава во конструкторот). Да се имплментираат 3 класи
\texttt{PlayingCard}, \texttt{Deck}, и \texttt{MultipleDeck}, со стандардна
функционалност за карта, за шпил и повеќе шпилови да се имплментираат методи за
мешање \texttt{shuffle}, делење на карта  \texttt{dealCard} и проверка дали има
останато карти.

\lstinputlisting{src/av2/PlayingCard.java}
\lstinputlisting{src/av2/Deck.java}
\lstinputlisting{src/av2/MultipleDeck.java}

\question
Комплексен број се состои од реален дел и имагинарен дел. Да се импалементира
класа \texttt{BigComplex}, во која реалниот и имагинарниот дел ќе се чуваат во
објекти од класата \texttt{BigDecimals}.

\lstinputlisting{src/av2/BigComplex.java}

\question
Дадени се следниве пет класи: \texttt{Bank}, \texttt{Account},
\texttt{NonInterestCheckingAccount}, \texttt{InterestCheckingAccount} и
\texttt{PlatinumCheckingAccount}, како и интефејс наречен
\texttt{InterestBearingAccount} кои се однесуваат на следниот начин:

\begin{itemize}
  \item Во \texttt{Bank} чува листа од сите видови сметки, вклучувајќи сметки
  за штедење и за трошење, некои од нив подложни на камата, а некои не. Во
  \texttt{Bank} постои метод \texttt{totalAssets} кој ја враќа сумата на
  состојбата на сите сметки. Исто така содржи метод \texttt{addInterest} кој го
  повикува методот \texttt{addInterest} на сите сметки кои се подложни на
  камата.
  \item \texttt{Account} е апстрактна класа. Во секој сметка се чуваат името на
  сопственикот на сметката, бројот на сметката (секвенцијален број доделен
  автоматски), моменталната состојба. Во класата се имплементираат конструктор
  за иницијализација на податочните членови, методи за пристап до моменталната
  состојба, како и за додавање и одземање од моменталната состојба.
  \item \texttt{InterestBearingAccount} интерфејсот декларрира единствен метод
  \texttt{addInterest} (без параметри и не враќа ништо - \texttt{void}) кој ја зголемува
  состојбата со соодветната камата за овој вид на сметка.
  \item \texttt{InterestCheckingAccount} е сметка \texttt{Account} која е исто
  така \texttt{InterestBearingAccount}. Повикување \texttt{addInterest} ја
  зголемува состојбата за 3\%.
	\item \texttt{PlatinumCheckingAccount} е \texttt{InterestCheckingAccount}.
Повикување \texttt{addInterest} ја зголемува состојбата двојно од каматата за
\texttt{InterestCheckingAccount} (колку и да е таа).
\item \texttt{NonInterestCheckingAccount} е сметка \texttt{Account} но не е
\texttt{InterestBearingAccount}. Нема дополнителни функционалности надвор од
основните од класата \texttt{Account}.
\end{itemize}
За оваа задача, треба да се направи следното. Потребно е да се имплментира
функционалност дадена во претходниот текст:
\renewcommand{\theenumi}{\alph{enumi}}
\renewcommand{\labelenumi}{\theenumi}
\begin{enumerate}
  \item Пет од шест класи од споменатите формираат хиерархија. За овие класи да
  се нацрта оваа хиерархија.
  \item Да се имплементира \texttt{Account}.
  \item Да се имплементира \texttt{NonInterestCheckingAccount}.
  \item Да се напише \texttt{InterestBearingAccount} интерфејсот.
  \item Да се имплементира \texttt{Bank}.
  \item Да се имплементира \texttt{InterestCheckingAccount}.
  \item Да се имплементира \texttt{PlatinumCheckingAccount}.  
\end{enumerate}

\lstinputlisting[caption=Имплементација на класата
\texttt{Account}]{src/av2/Account.java}

\lstinputlisting{src/av2/NonInterestCheckingAccount.java}

\lstinputlisting{src/av2/InterestBearingAccount.java}

\lstinputlisting{src/av2/Bank.java}

\lstinputlisting{src/av2/InterestCheckingAccount.java}

\lstinputlisting{src/av2/PlatinumCheckingAccount.java}
\end{questions}

\end{document}
